<mat-card mat-list-item draggable [dragData]="index" droppable (onDrop)="onCardDrop($event)" [dragScope]="card.story + '-' + portalIndex" [dropScope]="card.story + '-' + portalIndex">
  <mat-card-header>
    <mat-card-title>Nút</mat-card-title>
    <span class="header-spacer"></span>
    <mat-slide-toggle #saveToggle [checked]="cardFrm.pristine" [disabled]="cardFrm.pristine" labelPosition="before" (change)="onSave(cardFrm,$event)">
      Lưu</mat-slide-toggle>
    <mat-icon [matMenuTriggerFor]="cardMenu" class="icon-btn">more_vert</mat-icon>
    <mat-menu #cardMenu="matMenu">
      <button mat-menu-item (click)="remove()">Xoá</button>
    </mat-menu>
  </mat-card-header>
  <mat-card-content>
    <form #cardFrm="ngForm">
      <mat-form-field class="text-input-field">
        <textarea #textControl="ngModel" [(ngModel)]="card.option.attachment.payload.text" name="text" matInput maxlength="256" placeholder="Tin nhắn"></textarea>
        <mat-hint align="end">{{card.option.attachment.payload.text.length}} / 256</mat-hint>
      </mat-form-field>
    </form>
  </mat-card-content>
  <app-button-container [validButtons]="validButtons" [container]="container" [buttons]="card.option.attachment.payload.buttons"
    (change)="onButtonsChange($event)"></app-button-container>
</mat-card>
<mat-divider></mat-divider>